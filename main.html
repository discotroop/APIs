<!DOCTYPE html>

<html>
    <head>
        <link rel="stylesheet" type="text/css" href="style.css">
        <script type="text/javascript" src="script.js"></script>
        <title>api party</title>
    </head>

    <body>
        <img src="#"/>
        <div>
            <h3> Search for GIFs </h3>
            <input type="text" class="search">
        </div>
        
        <div>
            <button> Search </button>
        </div>

        <script>
            // Switched to async/await
            async function getNewImage (searchTerm) {
                const gifKey = 'sWFCiwUq7x829RbfAm6T64mM69y8cJ5C'
                const image = document.querySelector("img");

                let value = "checkers";
                    if (searchTerm) {
                        value = searchTerm;
                    }
                
                const response = await fetch('https://api.giphy.com/v1/gifs/translate?api_key=sWFCiwUq7x829RbfAm6T64mM69y8cJ5C&s=' + value, {mode: 'cors'})
                const gifData = await response.json();
                
                image.src = gifData.data.images.original.url;
            }

            Input = document.querySelector("input")
            function inputValue () {
                return getInput.value;
            }

            const clicked = document.querySelector("button")
            clicked.addEventListener("click", function() {
                getNewImage(inputValue());
            })
        </script>
    </body>
</html>